# ุญู ูุดููุฉ ุงูุณุนุฑ ุงูุซุงุจุช ูู Stripe

## โ ุงููุดููุฉ ูุญูููุฉ

ูู ุงูุณุฌูุงุช ุงูุชู ุฑุฃููุงูุงุ ุงููุธุงู ูุนูู ุงูุขู ุจุดูู ุตุญูุญ:

```
๐ฐ Quote calculation for with coordinates:
   Distance: 172.058 km
   Van type: small
   Crew size: 2
   Amount: 26800 pence (ยฃ268.00)
```

```
๐ฐ Creating checkout session for booking SV-062494:
   Amount: 26800 pence (ยฃ268.00)
   โ Created Stripe session: cs_test_...
   ๐ณ Session amount: 26800 pence (ยฃ268.00)
```

## ูุง ุชู ุฅุตูุงุญู

### 1. โ ูุดููุฉ Prisma Schema

- **ุงููุดููุฉ**: ูุงู ุงูููุฏ ูุญุงูู ุงููุตูู ูุญูู `quote` ุบูุฑ ููุฌูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุงูุญู**: ุฅุฒุงูุฉ ุงูููุฏ ุงููุนูุฏ ูุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ุงููุฎุฒูุฉ ูุจุงุดุฑุฉ

### 2. โ ุงูุชุณุนูุฑ ุงูุฏููุงูููู

- **ุงููุดููุฉ**: ูุงู ููุงู ุดู ูู ุงุณุชุฎุฏุงู Price ID ุซุงุจุช
- **ุงูุญู**: ุงูุชุฃูุฏ ูู ุงุณุชุฎุฏุงู `price_data` ูุน `unit_amount` ููุชุณุนูุฑ ุงูุฏููุงูููู

### 3. โ ุชูุฑูุฑ ุงููุจูุบ ุงูุตุญูุญ

- **ุงููุดููุฉ**: ุนุฏู ุงูุชุฃูุฏ ูู ุงููุจูุบ ุงููุฑุณู ุฅูู Stripe
- **ุงูุญู**: ุงุณุชุฎุฏุงู `booking.lockedAmountPence ?? booking.amountPence`

## ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

โ **ุงููุธุงู ูุนูู ุจุดูู ุตุญูุญ**

- Stripe ูุณุชูุจู ุงููุจูุบ ุงููุญุณูุจ ุจุฏูุฉ
- ุงูุชุณุนูุฑ ุฏููุงูููู ุญุณุจ ุงููุณุงูุฉ ูุงูุฎุฏูุงุช
- ูุง ููุฌุฏ ูุจูุบ ุซุงุจุช

โ **ุงูุชุณุฌูู ูุนูู**

- ูููู ุฑุคูุฉ ุนูููุฉ ุญุณุงุจ ุงูุณุนุฑ ูู ุงูุณุฌูุงุช
- ูููู ุฑุคูุฉ ุฅูุดุงุก ุฌูุณุฉ Stripe ุจูุฌุงุญ
- ุงููุจูุบ ูู Stripe ูุทุงุจู ุงููุจูุบ ุงููุญุณูุจ

## ููุงุญุธุงุช ูููุฉ

1. **ุงููุจูุบ ยฃ268.00**: ูุฐุง ูู ุงููุจูุบ ุงูุตุญูุญ ุงููุญุณูุจ ูููุณุงูุฉ 172.058 ูู
2. **ุงูุชุณุนูุฑ ุงูุฏููุงูููู**: ูุนูู ุจุดูู ุตุญูุญ ูุน `price_data`
3. **ุงูุจูุงูุงุช**: ูุชู ุชูุฑูุฑูุง ุจุดูู ุตุญูุญ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฅูู Stripe

## ุงูุฎูุงุตุฉ

ุงููุดููุฉ ุงูุฃุตููุฉ ูุงูุช ูู ูุญุงููุฉ ุงููุตูู ูุญูู ุบูุฑ ููุฌูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช. ุจุนุฏ ุฅุตูุงุญ ูุฐุงุ ุงููุธุงู ูุนูู ุจุดูู ูุซุงูู ูุน ุงูุชุณุนูุฑ ุงูุฏููุงูููู.
